import{c as b,j as e,r as a,s as f,X as k}from"./index-CJfiuc-8.js";import{L as C}from"./linkedin-C1ihj_-7.js";import{G as S}from"./github-BhE1FX5L.js";import{A as y}from"./aos-tnW9Pffi.js";import{L as M}from"./loader-circle-BYE7sdF8.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=b("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=b("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=b("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=b("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=b("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),E=()=>e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx("a",{href:"https://www.linkedin.com/in/batturaj-abhijith",target:"_blank",rel:"noopener noreferrer",className:"group relative flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 transition-all duration-500","aria-label":"LinkedIn",children:e.jsxs("div",{className:"relative flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 opacity-20 rounded-md transition-all duration-500 group-hover:scale-110 group-hover:opacity-30",style:{backgroundColor:"#0A66C2"}}),e.jsx("div",{className:"relative p-2 rounded-md",children:e.jsx(C,{className:"w-6 h-6 transition-all duration-500 group-hover:scale-105",style:{color:"#0A66C2"}})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-bold pt-[0.2rem] text-gray-200 tracking-tight leading-none group-hover:text-white transition-colors duration-300",children:"Let's Connect"}),e.jsx("span",{className:"text-sm text-gray-400 group-hover:text-gray-300 transition-colors duration-300",children:"on LinkedIn"})]})]})}),e.jsxs("a",{href:"https://github.com/abhijithwinddaa",target:"_blank",rel:"noopener noreferrer",className:"group relative flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10 hover:border-white/20 transition-all duration-500","aria-label":"GitHub",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("div",{className:`absolute inset-0 opacity-20 rounded-lg transition-all duration-500
                               group-hover:scale-125 group-hover:opacity-30`,style:{backgroundColor:"white"}}),e.jsx("div",{className:"relative p-2 rounded-lg",children:e.jsx(S,{className:"w-5 h-5 transition-all duration-500 group-hover:scale-110",style:{color:"white"}})})]}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"text-sm font-bold text-gray-200 group-hover:text-white transition-colors duration-300",children:"Github"}),e.jsx("span",{className:"text-xs text-gray-400 truncate group-hover:text-gray-300 transition-colors duration-300",children:"@abhijithwinddaa"})]})]})]}),F=a.memo(({comment:o,formatDate:c})=>e.jsx("div",{className:"px-4 pt-4 pb-2 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all group hover:shadow-lg hover:-translate-y-0.5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[o.profile_image?e.jsx("img",{src:o.profile_image,alt:`${o.user_name}'s profile`,className:"w-10 h-10 rounded-full object-cover border-2 border-indigo-500/30",loading:"lazy"}):e.jsx("div",{className:"p-2 rounded-full bg-indigo-500/20 text-indigo-400 group-hover:bg-indigo-500/30 transition-colors",children:e.jsx(N,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[e.jsx("h4",{className:"font-medium text-white truncate",children:o.user_name}),e.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:c(o.created_at)})]}),e.jsx("p",{className:"text-gray-300 text-sm break-words leading-relaxed relative bottom-2",children:o.content})]})]})})),R=a.memo(({onSubmit:o,isSubmitting:c})=>{const[d,m]=a.useState(""),[l,u]=a.useState(""),[h,x]=a.useState(null),[j,p]=a.useState(null),t=a.useRef(null),r=a.useRef(null),g=a.useCallback(s=>{const w=s.target.files[0];if(w){if(w.size>5*1024*1024){alert("File size must be less than 5MB");return}p(w);const v=new FileReader;v.onloadend=()=>x(v.result),v.readAsDataURL(w)}},[]),n=a.useCallback(s=>{m(s.target.value),t.current&&(t.current.style.height="auto",t.current.style.height=`${t.current.scrollHeight}px`)},[]),i=a.useCallback(s=>{s.preventDefault(),!(!d.trim()||!l.trim())&&(o({newComment:d,userName:l,imageFile:j}),m(""),x(null),p(null),r.current&&(r.current.value=""),t.current&&(t.current.style.height="auto"))},[d,l,j,o]);return e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2","data-aos":"fade-up","data-aos-duration":"1000",children:[e.jsxs("label",{className:"block text-sm font-medium text-white",children:["Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:l,onChange:s=>u(s.target.value),placeholder:"Enter your name",className:"w-full p-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 transition-all",required:!0})]}),e.jsxs("div",{className:"space-y-2","data-aos":"fade-up","data-aos-duration":"1200",children:[e.jsxs("label",{className:"block text-sm font-medium text-white",children:["Message ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{ref:t,value:d,onChange:n,placeholder:"Write your message here...",className:"w-full p-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 transition-all resize-none min-h-[120px]",required:!0})]}),e.jsxs("div",{className:"space-y-2","data-aos":"fade-up","data-aos-duration":"1400",children:[e.jsxs("label",{className:"block text-sm font-medium text-white",children:["Profile Photo ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsx("div",{className:"flex items-center gap-4 p-4 bg-white/5 border border-white/10 rounded-xl",children:h?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:h,alt:"Profile preview",className:"w-16 h-16 rounded-full object-cover border-2 border-indigo-500/50"}),e.jsxs("button",{type:"button",onClick:()=>{x(null),p(null),r.current&&(r.current.value="")},className:"flex items-center gap-2 px-4 py-2 rounded-full bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-all group",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Remove Photo"})]})]}):e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"file",ref:r,onChange:g,accept:"image/*",className:"hidden"}),e.jsxs("button",{type:"button",onClick:()=>{var s;return(s=r.current)==null?void 0:s.click()},className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-indigo-500/20 text-indigo-400 hover:bg-indigo-500/30 transition-all border border-dashed border-indigo-500/50 hover:border-indigo-500 group",children:[e.jsx(P,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),e.jsx("span",{children:"Choose Profile Photo"})]}),e.jsx("p",{className:"text-center text-gray-400 text-sm mt-2",children:"Max file size: 5MB"})]})})]}),e.jsxs("button",{type:"submit",disabled:c,"data-aos":"fade-up","data-aos-duration":"1000",className:"relative w-full h-12 bg-gradient-to-r from-[#6366f1] to-[#a855f7] rounded-xl font-medium text-white overflow-hidden group transition-all duration-300 hover:scale-[1.02] hover:shadow-lg active:scale-[0.98] disabled:opacity-50 disabled:hover:scale-100 disabled:cursor-not-allowed",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-12 group-hover:translate-y-0 transition-transform duration-300"}),e.jsx("div",{className:"relative flex items-center justify-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Posting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Post Comment"})]})})]})]})}),D=()=>{const[o,c]=a.useState([]),[d,m]=a.useState(!1),[l,u]=a.useState("");a.useEffect(()=>{y.init({once:!1,duration:1e3})},[]),a.useEffect(()=>{h();const t=f.channel("portfolio-comments").on("postgres_changes",{event:"*",schema:"public",table:"portfolio_comments"},()=>{h()}).subscribe();return()=>{t.unsubscribe()}},[]);const h=async()=>{try{const{data:t,error:r}=await f.from("portfolio_comments").select("*").order("created_at",{ascending:!1});if(r)throw r;c(t||[])}catch(t){console.error("Error fetching comments:",t),u("Failed to load comments")}},x=async t=>{if(!t)return null;const r=t.name.split(".").pop(),n=`profile-images/${`${Date.now()}_${Math.random().toString(36).substring(2)}.${r}`}`,{error:i}=await f.storage.from("portfolio-images").upload(n,t);if(i)throw i;const{data:s}=f.storage.from("portfolio-images").getPublicUrl(n);return s.publicUrl},j=async({newComment:t,userName:r,imageFile:g})=>{u(""),m(!0);try{const n=await x(g),{error:i}=await f.from("portfolio_comments").insert([{content:t,user_name:r,profile_image:n,created_at:new Date().toISOString()}]);if(i)throw i}catch(n){u("Failed to post comment. Please try again."),console.error("Error adding comment:",n)}finally{m(!1)}},p=a.useCallback(t=>{if(!t)return"";const r=new Date(t),n=Math.floor((new Date-r)/(1e3*60)),i=Math.floor(n/60),s=Math.floor(i/24);return n<1?"Just now":n<60?`${n}m ago`:i<24?`${i}h ago`:s<7?`${s}d ago`:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(r)},[]);return e.jsxs("div",{className:"w-full bg-gradient-to-b from-white/10 to-white/5 rounded-2xl overflow-hidden backdrop-blur-xl shadow-xl","data-aos":"fade-up","data-aos-duration":"1000",children:[e.jsx("div",{className:"p-6 border-b border-white/10","data-aos":"fade-down","data-aos-duration":"800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-indigo-500/20",children:e.jsx(_,{className:"w-6 h-6 text-indigo-400"})}),e.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Comments ",e.jsxs("span",{className:"text-indigo-400",children:["(",o.length,")"]})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[l&&e.jsxs("div",{className:"flex items-center gap-2 p-4 text-red-400 bg-red-500/10 border border-red-500/20 rounded-xl","data-aos":"fade-in",children:[e.jsx(I,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:l})]}),e.jsx("div",{children:e.jsx(R,{onSubmit:j,isSubmitting:d})}),e.jsx("div",{className:"space-y-4 h-[300px] overflow-y-auto custom-scrollbar","data-aos":"fade-up","data-aos-delay":"200",children:o.length===0?e.jsxs("div",{className:"text-center py-8","data-aos":"fade-in",children:[e.jsx(N,{className:"w-12 h-12 text-indigo-400 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-gray-400",children:"No comments yet. Start the conversation!"})]}):o.map(t=>e.jsx(F,{comment:t,formatDate:p},t.id))})]}),e.jsx("style",{jsx:!0,children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(99, 102, 241, 0.5);
                    border-radius: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(99, 102, 241, 0.7);
                }
            `})]})},H=()=>(a.useEffect(()=>{y.init({once:!1})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center lg:mt-[5%] mt-10 mb-2 sm:px-0 px-[5%]",children:[e.jsx("h2",{"data-aos":"fade-down","data-aos-duration":"1000",className:"inline-block text-3xl md:text-5xl font-bold text-center mx-auto text-transparent bg-clip-text bg-gradient-to-r from-[#6366f1] to-[#a855f7]",children:e.jsx("span",{style:{color:"#6366f1",backgroundImage:"linear-gradient(45deg, #6366f1 10%, #a855f7 93%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Contact Me"})}),e.jsx("p",{"data-aos":"fade-up","data-aos-duration":"1100",className:"text-slate-400 max-w-2xl mx-auto text-sm md:text-base mt-2",children:"Connect with me on LinkedIn and GitHub."})]}),e.jsx("div",{className:"h-auto py-10 flex items-center justify-center px-[5%] md:px-0",id:"Contact",children:e.jsxs("div",{className:"container px-[1%] grid grid-cols-1 gap-12",children:[e.jsxs("div",{"data-aos":"fade-right","data-aos-duration":"1200",className:"bg-white/5 backdrop-blur-xl rounded-3xl shadow-2xl p-5 py-10 sm:p-10 transform transition-all duration-300 hover:shadow-[#6366f1]/10 text-center",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2 justify-center",children:[e.jsx("span",{className:"inline-block w-8 h-1 bg-indigo-500 rounded-full"}),"Connect With Me"]}),e.jsx("div",{className:"mt-4",children:e.jsx(E,{})}),e.jsx("div",{className:"text-center mt-8 text-contact-gradient-start",children:"Connect with me:"})]}),e.jsx("div",{"data-aos":"fade-up","data-aos-duration":"1400",className:"bg-white/5 backdrop-blur-xl rounded-3xl shadow-2xl p-5 py-10 sm:p-10 transform transition-all duration-300 hover:shadow-[#6366f1]/10",children:e.jsx(D,{})})]})})]}));export{H as default};
