import{c as l,r as a,s as c,j as e,X as P}from"./index-CJfiuc-8.js";import{P as M,T}from"./trash-2-D7t-ir6P.js";import{L as x}from"./loader-circle-BYE7sdF8.js";import{L as h}from"./link-DWy8-XNP.js";import{S as q}from"./save-CtBouC9b.js";import{G}from"./github-BhE1FX5L.js";import{L as O}from"./linkedin-C1ihj_-7.js";import{G as Y}from"./globe-s8gfldKh.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=l("Codepen",[["polygon",{points:"12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2",key:"srzb37"}],["line",{x1:"12",x2:"12",y1:"22",y2:"15.5",key:"1t73f2"}],["polyline",{points:"22 8.5 12 15.5 2 8.5",key:"ajlxae"}],["polyline",{points:"2 15.5 12 8.5 22 15.5",key:"susrui"}],["line",{x1:"12",x2:"12",y1:"2",y2:"8.5",key:"2cldga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=l("Dribbble",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M19.13 5.09C15.22 9.14 10 10.44 2.25 10.94",key:"hpej1"}],["path",{d:"M21.75 12.84c-6.62-1.41-12.14 1-16.38 6.32",key:"1tr44o"}],["path",{d:"M8.56 2.75c4.37 6 6 9.42 8 17.72",key:"kbh691"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=l("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=l("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=l("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=l("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),se=()=>{const[d,p]=a.useState([]),[L,b]=a.useState(!0),[f,g]=a.useState(null),[S,n]=a.useState(!1),[y,j]=a.useState(!1),[_,w]=a.useState(null),[i,m]=a.useState({platform:"",url:"",display_name:""}),[v,N]=a.useState(!1),k=[{value:"github",label:"GitHub",icon:e.jsx(G,{size:16})},{value:"linkedin",label:"LinkedIn",icon:e.jsx(O,{size:16})},{value:"twitter",label:"Twitter",icon:e.jsx(W,{size:16})},{value:"instagram",label:"Instagram",icon:e.jsx(V,{size:16})},{value:"facebook",label:"Facebook",icon:e.jsx(U,{size:16})},{value:"youtube",label:"YouTube",icon:e.jsx(X,{size:16})},{value:"dribbble",label:"Dribbble",icon:e.jsx(H,{size:16})},{value:"codepen",label:"CodePen",icon:e.jsx(R,{size:16})},{value:"website",label:"Website",icon:e.jsx(Y,{size:16})},{value:"other",label:"Other",icon:e.jsx(h,{size:16})}];a.useEffect(()=>{z()},[]);const z=async()=>{try{b(!0);const{data:t,error:s}=await c.from("social_links").select("*").order("created_at",{ascending:!0});if(s)throw s;p(t||[])}catch(t){console.error("Error fetching social links:",t)}finally{b(!1)}},C=async t=>{if(window.confirm("Are you sure you want to delete this social link?"))try{g(t);const{error:s}=await c.from("social_links").delete().eq("id",t);if(s)throw s;p(d.filter(r=>r.id!==t))}catch(s){console.error("Error deleting social link:",s)}finally{g(null)}},F=t=>{j(!0),w(t.id),m({platform:t.platform||"",url:t.url||"",display_name:t.display_name||""}),n(!0)},D=()=>{j(!1),w(null),m({platform:"",url:"",display_name:""}),n(!0)},u=t=>{const{name:s,value:r}=t.target;m(o=>({...o,[s]:r}))},E=async t=>{t.preventDefault();try{N(!0);const s={platform:i.platform,url:i.url,display_name:i.display_name};let r;if(y){const{error:o}=await c.from("social_links").update(s).eq("id",_);r=o}else{const{error:o}=await c.from("social_links").insert([{...s,created_at:new Date().toISOString()}]);r=o}if(r)throw r;z(),n(!1)}catch(s){console.error("Error saving social link:",s),alert("Failed to save social link. Please try again.")}finally{N(!1)}},I=t=>{const s=k.find(r=>r.value===t);return s?s.icon:e.jsx(h,{size:20})},A=t=>{switch(t){case"github":return"text-white bg-gray-800";case"linkedin":return"text-white bg-blue-600";case"twitter":return"text-white bg-blue-400";case"instagram":return"text-white bg-pink-600";case"facebook":return"text-white bg-blue-700";case"youtube":return"text-white bg-red-600";case"dribbble":return"text-white bg-pink-500";case"codepen":return"text-white bg-gray-900";case"website":return"text-white bg-purple-600";default:return"text-white bg-gray-600"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Social Links"}),e.jsxs("button",{onClick:D,className:"flex items-center px-4 py-2 bg-indigo-500/20 border border-indigo-500/30 rounded-lg text-indigo-400 hover:bg-indigo-500/30 transition-all",children:[e.jsx(M,{size:16,className:"mr-2"}),"Add New Link"]})]}),L?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(x,{size:30,className:"animate-spin text-indigo-500"})}):d.length>0?e.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white/5 border-b border-white/10",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Platform"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Display Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"URL"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:d.map(t=>e.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-full ${A(t.platform)} mr-3`,children:I(t.platform)}),e.jsx("span",{className:"text-white capitalize",children:t.platform==="other"?"Custom Link":t.platform})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-300",children:t.display_name||"-"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-400 hover:text-indigo-300 transition-colors truncate block max-w-xs",children:t.url})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>F(t),className:"p-1.5 bg-amber-500/20 rounded-md text-amber-400 hover:bg-amber-500/30 transition-colors",children:e.jsx(h,{size:16})}),e.jsx("button",{onClick:()=>C(t.id),disabled:f===t.id,className:"p-1.5 bg-red-500/20 rounded-md text-red-400 hover:bg-red-500/30 transition-colors disabled:opacity-50",children:f===t.id?e.jsx(x,{size:16,className:"animate-spin"}):e.jsx(T,{size:16})})]})})]},t.id))})]})})}):e.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-10 text-center",children:e.jsx("p",{className:"text-gray-400",children:"No social links found. Add your first social link!"})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-[#0a0a1a] border border-white/10 rounded-xl w-full max-w-md p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:y?"Edit Social Link":"Add New Social Link"}),e.jsx("button",{onClick:()=>n(!1),className:"p-1.5 bg-white/10 rounded-full text-gray-400 hover:bg-white/20 transition-colors",children:e.jsx(P,{size:18})})]}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-300",children:["Platform ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"platform",name:"platform",value:i.platform,onChange:u,required:!0,className:"mt-1 block w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/30",children:[e.jsx("option",{value:"",disabled:!0,children:"Select a platform"}),k.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"display_name",className:"block text-sm font-medium text-gray-300",children:"Display Name"}),e.jsx("input",{type:"text",id:"display_name",name:"display_name",value:i.display_name,onChange:u,className:"mt-1 block w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/30",placeholder:"e.g. @username or Your Name"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-300",children:["URL ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",id:"url",name:"url",value:i.url,onChange:u,required:!0,className:"mt-1 block w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/30",placeholder:"https://example.com/username"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",disabled:v,className:"flex items-center px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg text-white font-medium hover:from-indigo-600 hover:to-purple-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:v?e.jsxs(e.Fragment,{children:[e.jsx(x,{size:18,className:"mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{size:18,className:"mr-2"}),"Save"]})})})]})]})})]})};export{se as default};
